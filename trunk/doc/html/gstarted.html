<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <title>CCruncher - Getting started</title>
    <link rel="stylesheet" href="ccruncher.css" type="text/css"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <style type="text/css">
        li {
          text-align: justify;
        }
    </style>
  </head>

  <body>
    <div id="main-container">
    <div id="page-header" style="background:#005080;">
      <table><tr>
        <td style="vertical-align:middle;">
          <a href="index.html" style="text-decoration:none; color:white; font-size:26pt; font-weight:normal;">
            &nbsp;CCRUNCHER
          </a>
        </td>
        <td>
          <div style="height:50px; width:3px; border-left:solid 3px red; margin-left:5px; margin-right:5px; "></div>
        </td>
        <td style="vertical-align:middle; font-size:14pt; color:white; width:100%">
          Open-Source Tool for<br/>Credit Risk Modeling
        </td>
        <td style="vertical-align: middle;">
          <a href="index.html">
            <img src="logo.png" alt="logo" height="80" style="margin-right:10px; border:0"/>
          </a>
        </td>
      </tr>
      </table>
      </div>
      <div id="navbar">
        <ul>
          <li>
            <a href="index.html">Home</a>
          </li>
          <li><a href="#">About</a>
            <ul>
              <li><a href="faq.html">F.A.Q.</a></li>
              <li><a href="features.html">Features</a></li>
              <li><a href="screenshots.html">Screenshots</a></li>
            </ul>
          </li>
          <li><a class="active" href="#">Let's work!</a>
            <ul>
              <li><a href="http://sourceforge.net/projects/ccruncher/">Download&nbsp;<img src="external.png" alt="" style="border:none;"/></a></li>
              <li><a href="gstarted.html">Getting Started</a></li>
            </ul>
          </li>
          <li><a href="#">Documentation</a>
            <ul>
              <li><a href="ccruncher.pdf">Technical Doc.&nbsp;<img src="pdf.png" width="14" alt="" style="border:none;"/></a></li>
              <li><a href="ifileref.html">Input File</a></li>
              <li><a href="ofileref.html">Output Files</a></li>
              <li><a href="dissemination.html">Dissemination</a></li>
            </ul>
          </li>
          <li><a href="#">Development</a>
            <ul>
              <li><a href="dependencies.html">Dependencies</a></li>
              <li><a href="http://www.ccruncher.net/svn/">Repository (svn)</a></li>
            </ul>
          </li>
        </ul>
      </div>

    <h1>Getting Started</h1>

    <h2>First steps</h2>
    <p>
      Follow these steps to install CCruncher and discover its capabilities.
    </p>
    <ol>
      <li>
        Download your binary package from 
        <a href="http://sourceforge.net/projects/ccruncher/">SourceForge</a>&nbsp;<img src="external.png" alt="" style="border:none;"/>.
      </li>
      <li>
        Unpack it in a folder.
      </li>
      <li>
        Take a time to inspect the directory contents (<code>bin, data, doc, samples</code>)
      </li>
      <li>
        Execute CCruncher double-clicking <code>bin/ccruncher-gui</code>.
      </li>
      <li>
        Open file <code>samples/test05.xml</code>.
      </li>
      <li>
        Click on the 'Edit' button, or the 'Edit' icon, to view the input file content.
      </li>
      <li>
        Return to the simulation tab.
      </li>
      <li>
        Set <code>data/</code> as output directory.
      </li>
      <li>
        Click the 'Run' button, or the 'Run' icon, to execute the Monte Carlo simulation.
      </li>
      <li>
        Read the execution trace.
      </li>
      <li>
        Open a file browser and review the content of the <code>data/</code> directory.
        Observe the new file named <code>portfolio.csv</code>. Open it and inspect
        its content. The values are the simulated portfolio losses.
      </li>
      <li>
        Return to CCruncher.
      </li>
      <li>
        Open output data files clicking the links in the trace, or clicking the 
        'Data analysis' icon, or using the 'File > Open file' dialog.
      </li>
      <li>
        Do your risk analysis.
      </li>
    </ol>

    <h2>Using segmentations</h2>
    <p>
      Segmentations are a powerful mechanism to define sub-portfolios.
      This feature can be used to disaggregate the risk of the whole
      portfolio. CCruncher simulates all the sub-portfolios defined 
      in the <code>&lt;segmentations&gt;</code> section of the input
      file and creates an output file for each one of them.
    </p>
    <ol>
      <li>
        Open file <code>samples/test03.xml</code>.
      </li>
      <li>
        Set <code>data/</code> as output directory.
      </li>
      <li>
        Edit the input file pressing the 'Edit' button.
      </li>
      <li>
        Locate the <code>&lt;segmentations&gt;</code> sections.
      </li>
      <li>
        Enable the 'offices' segmentation.
      </li>
      <li>
        Save the changes made in input file.
      </li>
      <li>
        Click the 'Run' button, or the 'Run' icon, to execute the Monte Carlo simulation. 
      </li>
      <li>
        Open a file browser and review the content of the <code>data/</code> directory.
        Observe the new file named <code>offices.csv</code>. Open it and inspect its 
        content. Each column is a segment of the segmentation 'offices'. The 'unassigned' 
        segment appears because the obligor '100' isn't assigned to any segment of the 
        'offices' segmentation.
      </li>
      <li>
        Click the 'Data analysis' icon to open an analysis tab for each enabled
        segmentation. 
      </li>
    </ol>
    
    <h2>Using macros</h2>
    <p>
      The macros mechanism allows modifying the input file in easy way.
      This is useful if you desire to evaluate the same input file modifying slightly
      a parameter each time.
    </p>
    <ol>
      <li>
        Open file <code>samples/test03.xml</code>.
      </li>
      <li>
        Set <code>data/</code> as output directory.
      </li>
      <li>
        Edit the input file pressing the 'Edit' button.
      </li>
      <li>
        Create a new define adding the following line into the <code>&lt;defines&gt;</code> tag:<br/>
        <code>&nbsp;&nbsp;&nbsp;&nbsp;&lt;define name="numsecs" value="20" /&gt;</code>
      </li>
      <li>
        Go to the <code>maxseconds</code> parameter and replace its
        value by <code>$numsecs</code>.
      </li>
      <li>
        Save the changes made in input file.
      </li>
      <li>
        Click on the 'Set ...' defines button.
      </li>
      <li>
        Set <code>numsims</code> value to <i>0</i> (unbounded number of simulations).
      </li>
      <li>
        Set <code>numsecs</code> value to <i>30</i>.
      </li>
      <li>
        Close defines dialog pressing the 'Ok' button.
      </li>
      <li>
        Click the 'Run' button, or the 'Run' icon, to execute the Monte Carlo simulation.
      </li>
      <li>
        Check that the simulation has elapsed ~30 seconds before to stop.
      </li>
    </ol>
    
    <h2>Using command line</h2>
    <p>
      The command line version of CCruncher is the proper way to perform
      multiple simulations, or to integrate CCruncher in your management
      system. Below we show the available options:
    </p>
    <pre>

<b>  > bin/ccruncher-cmd -h</b>

  Usage: ccruncher-cmd [OPTION]... -o DIRECTORY [FILE]

  Simule the loss distribution of the credit portfolio described in the xml
  input FILE using the Monte Carlo method. FILE can be gziped. If no one is
  given, then STDIN is considered. The input file format description and
  details of the simulation procedure can be found at http://www.ccruncher.net.

  Mandatory arguments to long options are mandatory for short options too.

    -D, --define=KEY=VAL    replace '$KEY' strings by 'VAL' in input file
    -a, --append            output data is appended to existing files
    -w, --overwrite         existing output files are overwritten
    -o, --output=DIRECTORY  directory where output files will be placed
    -i, --indexes           create file indexes.csv with info about simulation
        --nice=NICEVAL      set process priority to NICEVAL (see nice command)
        --threads=NTHREADS  number of threads to use (default=number of cores)
        --hash=HASHNUM      print '.' for each HASHNUM simulations (default=1000)
        --info              show build parameters and exit
    -h, --help              show this message and exit
        --version           show version and exit

  Exit status:
    0   finished without errors
    1   finished with errors

  Examples:
    basic example      ccruncher-cmd -o data/ samples/test04.xml
    forcing overwrite  ccruncher-cmd -w -o data/ samples/test100.xml
    redefining values  ccruncher-cmd -w -o data/ -D ndf=8 samples/sample.xml

  Report bugs to gtorrent@ccruncher.net. Please include the output of
  'ccruncher-cmd --info' in the body of your report and attach the input
  file if at all possible.
    </pre>
    <p>
      The following example simulates the input file <code>samples/test05.xml</code> 
      redefining macros NU, W1, W2, R12, placing output files in <code>data/</code> 
      directory and overwriting output files if they exist.
    </p>
    <pre>

<b>  > bin/ccruncher-cmd -w -o data -DNU=12.54 -DW1=0.29 -DW2=0.48 -DR12=0.21 samples/test05.xml</b>

          ccruncher is Copyright (C) 2004-2013 Gerard Torrent and licensed
           under the GNU General Public License, version 2. More info at
                              http://www.ccruncher.net

  general information ************************************************************
    ccruncher version                                                  2.3 (R1039)
    start time (dd/MM/yyyy hh:mm:ss)                           30/07/2013 13:16:58

  reading input file *************************************************************
    file name                                                 [samples/test05.xml]
    file size                                                            276.69 KB
    define (user defined)                                                 NU=12.54
    define (user defined)                                                 R12=0.21
    define (user defined)                                                  W1=0.29
    define (user defined)                                                  W2=0.48
    define (input file)                                             numsims=200000
    define (input file)                                            copula=t(12.54)
    define (input file)                                            antithetic=true
    define (input file)                                                   lhs=1000
    define (input file)                                                     seed=0
    file checksum (adler32)                                              578526229
    elapsed time parsing data                                         00:00:00.046

  initialization procedure *******************************************************
    setting parameters -----------------------------------------------------------
      initial date                                                      01/01/2013
      end date                                                          01/01/2014
      number of ratings                                                          4
      number of factors                                                          2
      copula type                                                         t(12.54)
      transition matrix period (months)                                         12
      transition matrix regularization error (1M)                                0
      default probability functions                                       computed
      default probability splines (linear, cubic, none)                       cccn
    setting obligors to simulate -------------------------------------------------
      simulate only active obligors                                           true
      number of obligors                                                      1000
      number of simulated obligors                                            1000
    setting assets to simulate ---------------------------------------------------
      number of assets                                                        1000
      number of simulated assets                                              1000
    initializing aggregators -----------------------------------------------------
      output data directory                                                 [data]
      segmentation            [/home/gerard/projects/ccruncher/data/portfolio.csv]
      segmentation        [/home/gerard/projects/ccruncher/data/sector-rating.csv]

  Monte Carlo ********************************************************************
    configuration ----------------------------------------------------------------
      seed used to initialize randomizer                          1375183018300495
      maximum execution time (seconds)                                       86400
      maximum number of iterations                                          200000
      antithetic mode                                                         true
      latin hypercube sampling                                                1000
      thread block size                                                        128
      number of threads                                                          4
    running Monte Carlo [1000 simulations per hash] ------------------------------
      ............................................................................
      ............................................................................
      ................................................
      simulations realized                                                  200000
      elapsed time creating random numbers                            00:00:01.003
      elapsed time simulating obligors                                00:00:01.423
      elapsed time writing data to disk                               00:00:00.272
      total simulation time                                           00:00:02.720

  general information ************************************************************
    end time (dd/MM/yyyy hh:mm:ss)                             30/07/2013 13:17:01
    total elapsed time                                                00:00:02.875
    </pre>

    <h2>Flying solo</h2>
    <p>
      We have revised the main features. 
      Some final words before you move by yourself:
    </p>
    <ul>
      <li>
        Read carefully the <a href="ccruncher.pdf">technical document</a>.
      </li>
      <li>
        Read carefully the <a href="ifileref.html">input file documentation</a>.
      </li>
      <li>
        Create your own input files using some file from samples directory as template.
      </li>
      <li>
        Be tidy. Save the input and output files of a problem in the same directory.
        This way you will know the meaning of the output in the future.
      </li>
      <li>
        Don't hesitate to send your questions, suggestions, improvements, bugs, 
        etc. to the <a href="mailto:gtorrent@ccruncher.net">CCruncher team</a>.
      </li>
    </ul>

    <div id="page-footer">
      <span id="copyright" >
        Copyright &copy; 2004-2013 - <a href="mailto:gtorrent@ccruncher.net">CCruncher</a>
      </span>
      <span id="modified">
        Last modified: 05-Aug-2013
      </span>
    </div>

  </div>
  </body>
</html>
