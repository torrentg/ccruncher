<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <title>CCruncher - Ouput files</title>
    <link rel="stylesheet" href="ccruncher.css" type="text/css"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <style type="text/css">
        ul {
            margin-top: 0px;
            margin-bottom: 0px;
        }
        td.c1 {
            text-align: left;
            padding: 8px;
            width: 150px;
        }
        td.c2 {
            text-align: justify;
            padding: 8px;
        }
        td.c3 {
            text-align: center;
            padding: 8px;
            width: 70px;
        }
        td.c4 {
            text-align: center;
            padding: 8px;
            width: 70px;
            white-space: nowrap;
        }
        @media print {
            td.c1, td.c2, td.c3 {
                border: 1px solid gray;
            }
        }
    </style>
  </head>
  <body>
    <div id="main-container">
    <div id="page-header" style="background:#005080;">
      <table><tr>
        <td style="vertical-align:middle;">
          <a href="index.html" style="text-decoration:none; color:white; font-size:26pt; font-weight:normal;">
            &nbsp;CCRUNCHER
          </a>
        </td>
        <td>
          <div style="height:50px; width:3px; border-left:solid 3px red; margin-left:5px; margin-right:5px; "></div>
        </td>
        <td style="vertical-align:middle; font-size:14pt; color:white; width:100%">
          Open-Source Tool for<br/>Credit Risk Modeling
        </td>
        <td style="vertical-align: middle;">
          <a href="index.html">
            <img src="logo.png" alt="logo" height="80" style="margin-right:10px; border:0"/>
          </a>
        </td>
      </tr>
      </table>
      </div>
      <div id="navbar">
        <ul>
          <li>
            <a href="index.html">Home</a>
          </li>
          <li><a href="#">About</a>
            <ul>
              <li><a href="faq.html">F.A.Q.</a></li>
              <li><a href="features.html">Features</a></li>
              <li><a href="screenshots.html">Screenshots</a></li>
            </ul>
          </li>
          <li><a href="#">Let's work!</a>
            <ul>
              <li><a href="http://sourceforge.net/projects/ccruncher/">Download&nbsp;<img src="external.png" alt="" style="border:none;"/></a></li>
              <li><a href="gstarted.html">Getting Started</a></li>
            </ul>
          </li>
          <li><a class="active" href="#">Documentation</a>
            <ul>
              <li><a href="ccruncher.pdf">Technical Doc.&nbsp;<img src="pdf.png" width="14" alt="" style="border:none;"/></a></li>
              <li><a href="ofileref.html">Output Files</a></li>
              <li><a href="ifileref.html">Input File</a></li>
            </ul>
          </li>
          <li><a href="#">Development</a>
            <ul>
              <li><a href="dependencies.html">Dependencies</a></li>
              <li><a href="http://www.ccruncher.net/svn/">Repository (svn)</a></li>
            </ul>
          </li>
        </ul>
      </div>

    <h1>Output Files</h1>
    <p>
      CCruncher leaves the output files in the directory indicated by the 
      '-o' argument in ccruncher-cmd, or the directory indicated by the 
      'Output' textbox in the ccruncher-gui. CCruncher output files are:
    </p>
    <table cellpadding="3">
      <tr class="a">
        <th>File</th>
        <th>Content</th>
        <th>Format</th>
        <th>Number</th>
      </tr>
      <tr class="b">
        <td class="c1"><a href="#segmentation">segmentation.csv</a></td>
        <td class="c2">
          Portfolio or sub-portfolios simulated losses.
        </td>
        <td class="c3">CSV</td>
        <td class="c4">1 or more</td>
      </tr>
      <tr class="a">
        <td class="c1"><a href="#indexes">indexes.csv</a></td>
        <td class="c2">
          Additional info about simulated values.
        </td>
        <td class="c3">CSV</td>
        <td class="c4">0 or 1</td>
      </tr>
      <tr class="b">
        <td class="c1"><a href="#trace">ccruncher.out</a></td>
        <td class="c2">
          Execution trace.
        </td>
        <td class="c3">TXT</td>
        <td class="c4">1 (gui),<br/>0 (cmd)</td>
      </tr>
    </table>
    <p>
      CCruncher uses the <a href="http://en.wikipedia.org/wiki/Comma-separated_values">CSV file format</a>
      to save tabular data. This is a widely accepted data format supported by
      all data analysis tool (SPSS, R, Excel, Matlab, Mathematica, etc.).
      CCruncher CSV files satisfy the following considerations:
    </p>
    <ul>
      <li>
        The field separator is the comma (,).
      </li>
      <li>
        Each record contains the same number of comma-separated fields.
      </li>
      <li>
        First line contains the names of fields. Names are surrounded by double quotes (").
      </li>
      <li>
        Amounts are rounded and represented with 2 decimal places, using the period (.) 
        as decimal point separator and without thousand separators.
      </li>
    </ul>

<!-- ==================================================== -->
<!--    segmentation                                      -->
<!-- ==================================================== -->
    <a name="segmentation"></a>
    <h2>segmentation.csv</h2>
    <p>
      These files contain the simulated losses of the indicated segmentation
      disaggregated by its segments (aka. sub-portfolios). There are so many 
      files of this type as segmentations defined in the input file.
      Below we show the segmentations entry in the 
      <code>samples/test05.xml</code> input file.
      The segmentation name lead to the corresponding file name (portfolio.csv
      and sector-ratings.csv in the example below), and the segment names leads 
      to the corresponding column names and values. 
    </p>
    <pre>

  &lt;segmentations&gt;
    &lt;segmentation name="portfolio" components="obligor"/&gt;
    &lt;segmentation name="sector-rating" components="asset"&gt;
      &lt;segment name="S1-A"/&gt;
      &lt;segment name="S1-B"/&gt;
      &lt;segment name="S1-C"/&gt;
      &lt;segment name="S2-A"/&gt;
      &lt;segment name="S2-B"/&gt;
      &lt;segment name="S2-C"/&gt;
    &lt;/segmentation&gt;
  &lt;/segmentations&gt;
    </pre>
    <p>
      Each row corresponds to a simulation performed by CCruncher, and each column 
      value corresponds to the losses of the segment indicated in the first line.
    </p>
    <pre>

  "S1-A", "S1-B", "S1-C", "S2-A", "S2-B", "S2-C"
  44.00, 46.00, 75.00, 32.00, 39.00, 69.00
  9.00, 30.00, 41.00, 14.00, 36.00, 35.00
  0.00, 0.00, 3.00, 1.00, 0.00, 3.00
  11.00, 21.00, 57.00, 13.00, 28.00, 67.00
  11.00, 14.00, 37.00, 5.00, 8.00, 16.00
  5.00, 17.00, 32.00, 13.00, 25.00, 57.00
  12.00, 19.00, 29.00, 6.00, 9.00, 24.00
  13.00, 31.00, 39.00, 18.00, 55.00, 71.00
  1.00, 3.00, 10.00, 2.00, 2.00, 7.00
  21.00, 30.00, 65.00, 15.00, 37.00, 77.00
  0.00, 5.00, 8.00, 5.00, 11.00, 29.00
  ...
  24.00, 57.00, 76.00, 14.00, 23.00, 40.00
    </pre>
    <p>
      When there is more than one segment, the sum of row losses can 
      differ slightly from the corresponding whole portfolio loss
      (located in a different file) due to the rounding errors (losses 
      are rounded to 2 decimal places).
    </p>
    <p>
      <b>Whole portfolio</b>. Usually we set the segmentation name 'portfolio' 
      to indicate the whole portfolio but you can set any other name.
      In this case it is irrelevant the type of components (obligor or asset) 
      because both gives the same result. If exist more than one segmentation 
      with a unique segment then CCruncher complains about it and stops.
      This happens when you define a segmentation with multiple segments
      but you don't assign any obligor/asset to this segmentation. In this case
      all obligors/assets are assigned to the 'unassigned' segment causing a 
      unique segment equivalent to the whole portfolio.
    </p>

<!-- ==================================================== -->
<!--    indexes                                           -->
<!-- ==================================================== -->
    <a name="indexes"></a>
    <h2>indexes.csv</h2>
    <p>
      This file contains additional info about simulated values. Its creation
      is managed by the '-i' argument in ccruncher-cmd or ccruncher-gui programs.
      We recommend disabling this option and not generate this file unless you 
      are checking the program or trying to apply some variance reduction 
      technique.
    </p>
    <p>
      Each row contains information about the corresponding simulation.
      The first column (thread) contains the thread index (starting at 1) that 
      performed the simulation. The second column contains the Latin Hypercube 
      Sampling batch (where each batch consists of <i>lhs sample size</i> 
      simulations). Finally, the third column (antithetic) indicates (0=false, 
      1=true) if this simulation is an antithetic variate or not.
    </p>
    <pre>

  "thread", "lhs", "antithetic"
  1, 1, 0
  1, 1, 0
  2, 1, 1
  2, 1, 0
  1, 1, 1
  2, 1, 0
  ...
  1, 21, 0
  1, 21, 1
  ...
  2, 51, 0
  2, 51, 1
    </pre>

<!-- ==================================================== -->
<!--    trace                                             -->
<!-- ==================================================== -->
    <a name="trace"></a>
    <h2>ccruncher.out</h2>
    <p>
      ccruncher-gui program saves the execution trace in the ccruncher.out file.
      This file, together with the input file, allows interpreting the output 
      files contents.
      The command line program (ccruncher-cmd) doesn't save its trace because it is
      designed with the Unix philosophy in mind (<i>Write programs that do one thing 
      and do it well. Write programs to work together. Write programs to handle text 
      streams, because that is a universal interface.</i>). If you want preserve the
      trace you can redirect the program output using the 
      <a href="http://ss64.com/bash/tee.html">tee</a> utility.
    </p>
    <pre>

          ccruncher is Copyright (C) 2004-2013 Gerard Torrent and licensed
           under the GNU General Public License, version 2. More info at
                              http://www.ccruncher.net

  general information ************************************************************
    ccruncher version                                                  2.3 (R1039)
    start time (dd/MM/yyyy hh:mm:ss)                           30/07/2013 13:16:58

  reading input file *************************************************************
    file name                                                 [samples/test05.xml]
    file size                                                            276.69 KB
    define (user defined)                                                 NU=12.54
    define (user defined)                                                 R12=0.21
    define (user defined)                                                  W1=0.29
    define (user defined)                                                  W2=0.48
    define (input file)                                             numsims=200000
    define (input file)                                            copula=t(12.54)
    define (input file)                                            antithetic=true
    define (input file)                                                   lhs=1000
    define (input file)                                                     seed=0
    file checksum (adler32)                                              578526229
    elapsed time parsing data                                         00:00:00.046

  initialization procedure *******************************************************
    setting parameters -----------------------------------------------------------
      initial date                                                      01/01/2013
      end date                                                          01/01/2014
      number of ratings                                                          4
      number of factors                                                          2
      copula type                                                         t(12.54)
      transition matrix period (months)                                         12
      transition matrix regularization error (1M)                                0
      default probability functions                                       computed
      default probability splines (linear, cubic, none)                       cccn
    setting obligors to simulate -------------------------------------------------
      simulate only active obligors                                           true
      number of obligors                                                      1000
      number of simulated obligors                                            1000
    setting assets to simulate ---------------------------------------------------
      number of assets                                                        1000
      number of simulated assets                                              1000
    initializing aggregators -----------------------------------------------------
      output data directory                                                 [data]
      segmentation            [/home/gerard/projects/ccruncher/data/portfolio.csv]
      segmentation        [/home/gerard/projects/ccruncher/data/sector-rating.csv]

  Monte Carlo ********************************************************************
    configuration ----------------------------------------------------------------
      seed used to initialize randomizer                          1375183018300495
      maximum execution time (seconds)                                       86400
      maximum number of iterations                                          200000
      antithetic mode                                                         true
      latin hypercube sampling                                                1000
      thread block size                                                        128
      number of threads                                                          4
    running Monte Carlo [1000 simulations per hash] ------------------------------
      ............................................................................
      ............................................................................
      ................................................
      simulations realized                                                  200000
      elapsed time creating random numbers                            00:00:01.003
      elapsed time simulating obligors                                00:00:01.423
      elapsed time writing data to disk                               00:00:00.272
      total simulation time                                           00:00:02.720

  general information ************************************************************
    end time (dd/MM/yyyy hh:mm:ss)                             30/07/2013 13:17:01
    total elapsed time                                                00:00:02.875
    </pre>

    <div id="page-footer">
      <span id="copyright" >
        Copyright &copy; 2004-2013 - <a href="mailto:gtorrent@ccruncher.net">CCruncher</a>
      </span>
      <span id="modified">
        Last modified: 03-Aug-2013
      </span>
    </div>

  </div>
  </body>
</html>

