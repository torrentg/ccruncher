dnl *************************************************************
dnl
dnl Process this file with autoconf to produce a configure script
dnl 
dnl memory leak tests: valgrind --tool=memcheck --leak-check=yes <progname>
dnl
dnl profiler tests: compile with -pg flag + execute code (-> write gmon.out)
dnl                 run gprof executable gmon.out
dnl
dnl execute next commands to create Makefiles and compile (-O2 )
dnl
dnl   export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/horizon/temp/creditcruncher/share/cppunit-1.10.2/lib:/home/horizon/temp/creditcruncher/share/xercesc-2.6/lib
dnl
dnl   aclocal -I share/cppunit-1.10.2/
dnl   autoconf
dnl   automake -avc --warnings=all
dnl   ./configure
dnl   make
dnl   make check
dnl   make install
dnl
dnl *************************************************************

AC_PREREQ(2.52)
AC_INIT(creditcruncher, 0.1.1)

AM_INIT_AUTOMAKE

dnl AC_ARG_ENABLE(debug, [  --enable-debug turn on debugging [default=no]], enable_debug="$enableval", enable_debug=no)
dnl if test x$enable_debug = xyes ; then
dnl   AC_DEFINE(GNOME_ENABLE_DEBUG)
dnl fi

AC_PROG_CXX
AC_PROG_CC
AC_PROG_INSTALL

dnl optimize executable code using -O2 option (important!)
dnl CXXFLAGS="-g -pg"
CXXFLAGS="-O2"
AC_SUBST(CXXFLAGS)

AC_CHECK_FUNCS(clock)

AM_PATH_CPPUNIT(1.9.6)


AC_OUTPUT([
  Makefile
  src/Makefile
])

dnl  src/math/Makefile
dnl  src/utils/Makefile
dnl  src/ratings/Makefile
dnl  src/transitions/Makefile
dnl  src/sectors/Makefile
dnl  src/correlations/Makefile
dnl  src/finances/Makefile
dnl  src/interests/Makefile
dnl  src/params/Makefile
dnl  src/portfolio/Makefile
dnl  src/segmentations/Makefile
dnl  src/aggregators/Makefile
dnl  src/kernel/Makefile
dnl  src/tools/Makefile
